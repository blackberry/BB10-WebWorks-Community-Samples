<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0-google-v3) on Mon May 09 20:04:51 EDT 2011 -->
<TITLE>
ModuleSourceProviderBase (Rhino)
</TITLE>

<META NAME="date" CONTENT="2011-05-09">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ModuleSourceProviderBase (Rhino)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/MultiModuleScriptProvider.html" title="class in org.mozilla.javascript.commonjs.module.provider"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ModuleSourceProviderBase.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.mozilla.javascript.commonjs.module.provider</FONT>
<BR>
Class ModuleSourceProviderBase</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>org.mozilla.javascript.commonjs.module.provider.ModuleSourceProviderBase</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Serializable, <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider">ModuleSourceProvider</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/UrlModuleSourceProvider.html" title="class in org.mozilla.javascript.commonjs.module.provider">UrlModuleSourceProvider</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>ModuleSourceProviderBase</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider">ModuleSourceProvider</A>, java.io.Serializable</DL>
</PRE>

<P>
A base implementation for all module script providers that actually load 
 module scripts. Performs validation of identifiers, allows loading from
 preferred locations (attempted before require.paths), from require.paths 
 itself, and from fallback locations (attempted after require.paths). Note 
 that while this base class strives to be as generic as possible, it does 
 have loading from an URI built into its design, for the simple reason that
 the require.paths is defined in terms of URIs.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Id: ModuleSourceProviderBase.java,v 1.3 2011/04/07 20:26:12 hannes%helma.at Exp $</DD>
<DT><B>Author:</B></DT>
  <DD>Attila Szegedi</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../../../serialized-form.html#org.mozilla.javascript.commonjs.module.provider.ModuleSourceProviderBase">Serialized Form</A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.mozilla.javascript.commonjs.module.provider.ModuleSourceProvider"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface org.mozilla.javascript.commonjs.module.provider.<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider">ModuleSourceProvider</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED">NOT_MODIFIED</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#ModuleSourceProviderBase()">ModuleSourceProviderBase</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#entityNeedsRevalidation(java.lang.Object)">entityNeedsRevalidation</A></B>(java.lang.Object&nbsp;validator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override to determine whether according to the validator, the cached 
 module script needs revalidation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#loadFromFallbackLocations(java.lang.String, java.lang.Object)">loadFromFallbackLocations</A></B>(java.lang.String&nbsp;moduleId,
                          java.lang.Object&nbsp;validator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override to obtain a module source from fallback locations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#loadFromPrivilegedLocations(java.lang.String, java.lang.Object)">loadFromPrivilegedLocations</A></B>(java.lang.String&nbsp;moduleId,
                            java.lang.Object&nbsp;validator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override to obtain a module source from privileged locations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#loadFromUri(java.net.URI, java.net.URI, java.lang.Object)">loadFromUri</A></B>(java.net.URI&nbsp;uri,
            java.net.URI&nbsp;base,
            java.lang.Object&nbsp;validator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Override in a subclass to load a module script from a logical URI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#loadSource(java.lang.String, org.mozilla.javascript.Scriptable, java.lang.Object)">loadSource</A></B>(java.lang.String&nbsp;moduleId,
           <A HREF="../../../../../../org/mozilla/javascript/Scriptable.html" title="interface in org.mozilla.javascript">Scriptable</A>&nbsp;paths,
           java.lang.Object&nbsp;validator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the script source of the requested module.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html#loadSource(java.net.URI, java.lang.Object)">loadSource</A></B>(java.net.URI&nbsp;uri,
           java.lang.Object&nbsp;validator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the script source of the requested module from the given URI.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ModuleSourceProviderBase()"><!-- --></A><H3>
ModuleSourceProviderBase</H3>
<PRE>
public <B>ModuleSourceProviderBase</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="loadSource(java.lang.String, org.mozilla.javascript.Scriptable, java.lang.Object)"><!-- --></A><H3>
loadSource</H3>
<PRE>
public <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A> <B>loadSource</B>(java.lang.String&nbsp;moduleId,
                               <A HREF="../../../../../../org/mozilla/javascript/Scriptable.html" title="interface in org.mozilla.javascript">Scriptable</A>&nbsp;paths,
                               java.lang.Object&nbsp;validator)
                        throws java.io.IOException,
                               java.net.URISyntaxException</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#loadSource(java.lang.String, org.mozilla.javascript.Scriptable, java.lang.Object)">ModuleSourceProvider</A></CODE></B></DD>
<DD>Returns the script source of the requested module. More specifically, it 
 resolves the module ID to a resource. If it can not resolve it, null is
 returned. If the caller passes a non-null validator, and the source 
 provider recognizes it, and the validator applies to the same resource 
 that the provider would use to load the source, and the validator 
 validates the current cached representation of the resource (using 
 whatever semantics for validation that this source provider implements), 
 then <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A> should be returned. Otherwise, it should 
 return a <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider"><CODE>ModuleSource</CODE></A> object with the actual source text of the 
 module, preferrably a validator for it, and a security domain, where 
 applicable.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#loadSource(java.lang.String, org.mozilla.javascript.Scriptable, java.lang.Object)">loadSource</A></CODE> in interface <CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider">ModuleSourceProvider</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>moduleId</CODE> - the ID of the module. An implementation must only accept
 an absolute ID, starting with a term.<DD><CODE>paths</CODE> - the value of the require() function's "paths" attribute. If
 the require() function is sandboxed, it will be null, otherwise it will
 be a JavaScript Array object. It is up to the provider implementation
 whether and how it wants to honor the contents of the array.<DD><CODE>validator</CODE> - a validator for an existing loaded and cached module.
 This will either be null, or an object that this source provider
 returned earlier as part of a <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider"><CODE>ModuleSource</CODE></A>. It can be used to
 validate the existing cached module and avoid reloading it.
<DT><B>Returns:</B><DD>a script representing the code of the module. Null should be
 returned if the script is not found. <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A> should be 
 returned if the passed validator validates the current representation of
 the module (the currently cached module script).
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there was an I/O problem reading the script
<DD><CODE>java.net.URISyntaxException</CODE> - if the final URI could not be constructed.</DL>
</DD>
</DL>
<HR>

<A NAME="loadSource(java.net.URI, java.lang.Object)"><!-- --></A><H3>
loadSource</H3>
<PRE>
public <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A> <B>loadSource</B>(java.net.URI&nbsp;uri,
                               java.lang.Object&nbsp;validator)
                        throws java.io.IOException,
                               java.net.URISyntaxException</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#loadSource(java.net.URI, java.lang.Object)">ModuleSourceProvider</A></CODE></B></DD>
<DD>Returns the script source of the requested module from the given URI.
 The URI is absolute but does not contain a file name extension such as
 ".js", which may be specific to the ModuleSourceProvider implementation.
 <p>
 If the resource is not found, null is returned. If the caller passes a
 non-null validator, and the source provider recognizes it, and the
 validator applies to the same resource that the provider would use to
 load the source, and the validator validates the current cached
 representation of the resource (using whatever semantics for validation
 that this source provider implements), then <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A>
 should be returned. Otherwise, it should return a <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider"><CODE>ModuleSource</CODE></A>
 object with the actual source text of the module, preferrably a
 validator for it, and a security domain, where applicable.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#loadSource(java.net.URI, java.lang.Object)">loadSource</A></CODE> in interface <CODE><A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider">ModuleSourceProvider</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - the absolute URI from which to load the module source, but
 without an extension such as ".js".<DD><CODE>validator</CODE> - a validator for an existing loaded and cached module.
 This will either be null, or an object that this source provider
 returned earlier as part of a <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider"><CODE>ModuleSource</CODE></A>. It can be used to
 validate the existing cached module and avoid reloading it.
<DT><B>Returns:</B><DD>a script representing the code of the module. Null should be
 returned if the script is not found. <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A> should be
 returned if the passed validator validates the current representation of
 the module (the currently cached module script).
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there was an I/O problem reading the script
<DD><CODE>java.net.URISyntaxException</CODE> - if the final URI could not be constructed</DL>
</DD>
</DL>
<HR>

<A NAME="entityNeedsRevalidation(java.lang.Object)"><!-- --></A><H3>
entityNeedsRevalidation</H3>
<PRE>
protected boolean <B>entityNeedsRevalidation</B>(java.lang.Object&nbsp;validator)</PRE>
<DL>
<DD>Override to determine whether according to the validator, the cached 
 module script needs revalidation. A validator can carry expiry 
 information. If the cached representation is not expired, it doesn'
 t need revalidation, otherwise it does. When no cache revalidation is
 required, the external resource will not be contacted at all, so some 
 level of expiry (staleness tolerance) can greatly enhance performance. 
 The default implementation always returns true so it will always require 
 revalidation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>validator</CODE> - the validator
<DT><B>Returns:</B><DD>returns true if the cached module needs revalidation.</DL>
</DD>
</DL>
<HR>

<A NAME="loadFromUri(java.net.URI, java.net.URI, java.lang.Object)"><!-- --></A><H3>
loadFromUri</H3>
<PRE>
protected abstract <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A> <B>loadFromUri</B>(java.net.URI&nbsp;uri,
                                            java.net.URI&nbsp;base,
                                            java.lang.Object&nbsp;validator)
                                     throws java.io.IOException,
                                            java.net.URISyntaxException</PRE>
<DL>
<DD>Override in a subclass to load a module script from a logical URI. The
 URI is absolute but does not have a file name extension such as ".js".
 It is up to the ModuleSourceProvider implementation to add such an
 extension.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uri</CODE> - the URI of the script, without file name extension.<DD><CODE>base</CODE> - the base URI the uri was resolved from.<DD><CODE>validator</CODE> - a validator that can be used to revalidate an existing
 cached source at the URI. Can be null if there is no cached source 
 available.
<DT><B>Returns:</B><DD>the loaded module script, or null if it can't be found, or 
 <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A> if it revalidated the existing 
 cached source against the URI.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the module script was found, but an I/O exception
 prevented it from being loaded.
<DD><CODE>java.net.URISyntaxException</CODE> - if the final URI could not be constructed</DL>
</DD>
</DL>
<HR>

<A NAME="loadFromPrivilegedLocations(java.lang.String, java.lang.Object)"><!-- --></A><H3>
loadFromPrivilegedLocations</H3>
<PRE>
protected <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A> <B>loadFromPrivilegedLocations</B>(java.lang.String&nbsp;moduleId,
                                                   java.lang.Object&nbsp;validator)
                                            throws java.io.IOException,
                                                   java.net.URISyntaxException</PRE>
<DL>
<DD>Override to obtain a module source from privileged locations. This will 
 be called before source is attempted to be obtained from URIs specified 
 in require.paths.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>moduleId</CODE> - the ID of the module<DD><CODE>validator</CODE> - a validator that can be used to validate an existing
 cached script. Can be null if there is no cached script available.
<DT><B>Returns:</B><DD>the loaded module script, or null if it can't be found in the
 privileged locations, or <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A> if
 the existing cached module script is still valid.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the module script was found, but an I/O exception
 prevented it from being loaded.
<DD><CODE>java.net.URISyntaxException</CODE> - if the final URI could not be constructed.</DL>
</DD>
</DL>
<HR>

<A NAME="loadFromFallbackLocations(java.lang.String, java.lang.Object)"><!-- --></A><H3>
loadFromFallbackLocations</H3>
<PRE>
protected <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSource.html" title="class in org.mozilla.javascript.commonjs.module.provider">ModuleSource</A> <B>loadFromFallbackLocations</B>(java.lang.String&nbsp;moduleId,
                                                 java.lang.Object&nbsp;validator)
                                          throws java.io.IOException,
                                                 java.net.URISyntaxException</PRE>
<DL>
<DD>Override to obtain a module source from fallback locations. This will 
 be called after source is attempted to be obtained from URIs specified 
 in require.paths.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>moduleId</CODE> - the ID of the module<DD><CODE>validator</CODE> - a validator that can be used to validate an existing
 cached script. Can be null if there is no cached script available.
<DT><B>Returns:</B><DD>the loaded module script, or null if it can't be found in the
 privileged locations, or <A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html#NOT_MODIFIED"><CODE>ModuleSourceProvider.NOT_MODIFIED</CODE></A> if
 the existing cached module script is still valid.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if the module script was found, but an I/O exception
 prevented it from being loaded.
<DD><CODE>java.net.URISyntaxException</CODE> - if the final URI could not be constructed.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/ModuleSourceProvider.html" title="interface in org.mozilla.javascript.commonjs.module.provider"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/mozilla/javascript/commonjs/module/provider/MultiModuleScriptProvider.html" title="class in org.mozilla.javascript.commonjs.module.provider"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/mozilla/javascript/commonjs/module/provider/ModuleSourceProviderBase.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ModuleSourceProviderBase.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
